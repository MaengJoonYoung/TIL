# **Docker**

<br>

Docker는 내 PC의 운영체제와 상관없이 리눅스에서 작동하는 프로그램을 돌아가게 만들어주는 가상화 플랫폼이다.

다른 가상화 플랫폼이 가상 OS를 만들었다면 Docker는 그렇지 않다. Docker는  우리 컴퓨터 위에 도커 엔진을 올리고, 리눅스 운영체제에서 만든 프로그램과 이 프로그램을 실행하기 위한 환경이 담긴 독립적인 컨테이너들을 엔진 위에 올린다. 이를 통해 각 프로그램에 맞는 OS를 설치하지 않아도 해당 프로그램을 실행할 수 있게 만들어 준다.

*이러한 컨테이너를 도커 엔진 위에 올리기 위해서는 우선 레지스트리에서 이미지를 가져와야 한다. 이제 이 용어들에 대해서 알아보자.*

<br>
<hr>
<br>

## **1. Image, Container, Registry**

<br>

**Image**와 **Container** 그리고 **Registry**를 핸드폰에서 프로그램을 다운받는 과정을 예시로 생각해보자.

<br>

우리는 어떤 프로그램을 다운 받기 위해서 앱 스토어에 들어간다. Docker에서 이런 역할을 하는 곳이 바로 **Registry (Docker hub)** 이다. 이 앱 스토어에서 다운 받은 프로그램은 **Image**이고, 이 프로그램을 실행시키면 그것이 **Container**가 된다.

우리가 한글 프로그램을 사용해서 여러개의 프로세스를 띄울 수 있듯이 (한글 창이 여러개 띄워져 있는 모습을 생각하자.) 하나의 Image로 여러개의 Container를 만들 수 있다. 그럼 이제 다운 받는 방법과 실행 시키는 방법을 알아보자.

<br>
<br>
<hr>
<br>

## **2. pull, run**

<br>

우리가 모바일 앱을 다운 받기 위해 앱 스토어에 들어가듯이 이미지를 사용하기 위해선 Docker hub에 들어간다. 이후 원하는 이미지를 찾았다면 아래와 같이 가져올 수 있다.

<br>

~~~zsh
docker image pull 이미지:태그(버전이라고 생각하면 된다.)
~~~

<br>

이제 이 image를 실행하면 container가 되는 것이다. 방법은 아래와 같다.

~~~zsh
docker container run [OPTION] 이미지 [COMMAND] [ARG]
~~~

<br>

*더 다양한 명령어는 [docker doc](https://docs.docker.com/)에서 확인 가능 하다!!*

<br>
<br>
<hr>
<br>

## **3. Copy**

<br>

하지만 도커를 사용해 이용하는 모든 이미지가 하나의 이미지 안에 완벽한 파일이 다 들어있지는 않다. 그렇기에 우리는 로컬에 있는 파일을 컨테이너로 가져와서 프로그램을 실행 시켜야 되는 경우도 있는데 이때 cp(Copy)를 사용한다.

<br>

cp 사용 방법은 아래와 같다.

~~~zsh
docker container cp [OPTIONS] 복사할 파일의 경로 CONTAINER:목적지 경로
~~~

<br>

위와 같은 경우에는 로컬에 있는 파일을 컨테이너로 옮기는 것이다. 하지만 아래와 같은 경우는 반대로 컨테이너에 있는 파일을 로컬로 옮기는 것이다.

<br>

~~~zsh
docker container cp [OPTIONS] CONTAINER:복사할 파일의 경로 목적지 경로
~~~